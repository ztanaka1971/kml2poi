■これは何？

Google MapのKMLを、POIに変換する非常に単純なGroovyスクリプトです。
HONDA GATHERS VXM-108CS（SANYOゴリラのOEM）で動作確認をしています。
もしかしたら、オリジナルのゴリラでも使用できるかもしれません。
自家用に作っているので不十分な点があるかもしれませんが、うまいこと活用していただければ幸いです。

■ライセンス

ライセンスを主張するほどのものではありませんが、GPLv2に従うものとします。

■環境

私は下記の環境で使っています。
たぶん、これ以外でも動くと思います。

Groovy 1.8.1
Java(TM) SE Runtime Environment (build 1.6.0_26-b03)

■使い方

１．Groovyをインストールする
　　J2SE1.4以上が必要。設定方法などはGroovyのホームページ参照。
２．以下のコマンドで変換。変換後のXMLは標準出力に出るので、リダイレクトしてファイルに保存してください。

　　groovy kml2poi.groovy <KML File 1> <KML File 2>, ....

例外処理とかは入れていませんので、ファイル名間違えたりしないようにお願いします。
例がが発生したら、メッセージを見たり、ソース読んで対処してください。

■スクリプトがやってること

下記の情報が変換されます。
緯度経度に関しては測位系変換と度数→時分秒変換を行っています。
（KMLはWGS84測位系で度数表示、VXM-108CSはTOKYO測位系で時分秒表示表示のため）

- マイ・プレース名（変換後はカテゴリー名になります）
- 地点名
- 経度緯度
- コメント（ただし、変換後はHTML形式のまま表示されます）
- 作成日時（変換したときの日時が入ります）

■謝辞

測地系の変換に、下記のプログラムを利用させていただいています。
どうもありがとうございます。

WGS2TKY2.pl
http://homepage3.nifty.com/Nowral/index.html
（オリジナルはPerlですが、Groovyに翻訳して使わせて頂きました）

■お問い合わせ

guruguru911@tohrin.comまで。

■FAQ

(Q1) "java.net.MalformedURLException: unknown protocol: c"というエラーが出たら・・・。
(A1) 日本語(DBCS)のファイル名を使っている場合、英語(半角)に変えてみてください。



